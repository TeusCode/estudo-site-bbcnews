(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8577],{3463:function(e,t,n){var r=n(75062),a=n(20909),i=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=a.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=r(this.xf["@@transducer/step"](e,t))),e},e}();e.exports=function(e){return function(t){return new i(e,t)}}},5506:function(e,t,n){"use strict";var r=n(46518),a=n(32357).entries;r({target:"Object",stat:!0},{entries:function(e){return a(e)}})},13810:function(e,t,n){"use strict";n.d(t,{A:function(){return p}});var r=n(60436),a=(n(52675),n(89463),n(28706),n(2008),n(69085),n(26099),n(96540)),i=n(68154),o=n(88081),c=(n(27495),n(25440),n(42361)),u=n(75258),s=(n(74423),n(11392),n(23500),function(e){var t=["core:Person","core:Organization","core:Place"];if(0===(null==e?void 0:e.length))return"Thing";var n,r=0;return null==e||e.forEach((function(e){t.includes(e)&&(r+=1,n=e.replace("core:",""))})),1===r?n:"Thing"}),l=function(e){if(e&&e.length>0){var t=[];return e.forEach((function(e){var n,r,a={"@type":s(e.thingType),name:e.thingLabel};e["skos:altLabel"]&&(a.alternateName=e["skos:altLabel"]),e.thingSameAs&&e.thingSameAs.length>0&&(a.sameAs=(n=e.thingSameAs,(r=n.filter((function(e){return e.startsWith("http://dbpedia.org/")}))).length?r:void 0)),t.push(a)})),t}},p=function(e){var t,n=e.showAuthor,s=void 0!==n&&n,p=e.type,f=e.seoTitle,m=e.headline,g=e.promoImage,d=e.description,h=e.datePublished,A=e.dateModified,v=e.coverageStartTime,S=e.coverageEndTime,E=e.aboutTags,y=e.entities,b=void 0===y?[]:y,_=e.imageLocator,T=e.bylineLinkedData,N=(0,a.useContext)(u.h),O=N.brandName,I=N.publishingPrinciples,R=N.defaultImage,C=N.noBylinesPolicy,L=N.isTrustProjectParticipant,w=N.service,B=N.languageName,P=N.lang,x=(0,a.useContext)(o.b).canonicalNonUkLink,U="ImageObject",D=L?"NewsMediaOrganization":"Organization",j=L?O:"BBC",G="RadioChannel"!==p,Y=_?(0,c.A)(_,w):null,H={"@type":U,width:1024,height:576,url:R},k={"@type":U,width:103,height:16,url:"https://static.files.bbci.co.uk/ws/simorgh-assets/public/news/images/metadata/publisher-nx16.png"},W={"@type":U,width:108,height:16,url:"https://static.files.bbci.co.uk/ws/simorgh-assets/public/sport/images/metadata/publisher-nx16.png"},M=function(){switch(w){case"news":case"ws":return k;case"sport":return W;default:return H}}(),K={"@type":U,width:1024,height:576,url:Y||R},V=g||Y||R,F=Object.assign(Object.assign({"@type":D,name:j},L&&{publishingPrinciples:I}),{logo:M}),$={"@type":"WebPage","@id":x,name:f},X={"@type":"Language",name:B,alternateName:P},q=!!T,z=T||{},J=z.authorName,Z=z.authorTopicUrl,Q=z.twitterLink,ee=z.authorImage,te=z.location,ne=[Z,Q].filter(Boolean),re={"@place":te},ae=Object.assign({"@type":D,name:j,logo:{"@type":"ImageObject",width:1024,height:576,url:R}},L&&{noBylinesPolicy:C}),ie=Object.assign(Object.assign({"@type":"Person",name:J},ne.length&&{sameAs:ne}),ee&&{image:ee}),oe=q?ie:ae,ce=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"@type":p,url:x},G&&{publisher:F,thumbnailUrl:V}),{image:K,mainEntityOfPage:$,headline:m,description:d,datePublished:h,dateModified:A,coverageStartTime:v,coverageEndTime:S,inLanguage:X}),E&&{about:l(E)}),s&&{author:oe}),q&&te&&{locationCreated:re});return a.createElement(i.m,null,a.createElement("script",{type:"application/ld+json"},(t={"@context":"http://schema.org","@graph":[Object.assign({},ce)].concat((0,r.A)(b))})&&JSON.stringify(t).replace(/</g,"\\u003c")))}},17735:function(e,t,n){var r=n(22829);e.exports=function(e,t){return r(t,e,0)>=0}},21522:function(e,t,n){var r=n(19545)(n(42296)(["find"],n(3463),(function(e,t){for(var n=0,r=t.length;n<r;){if(e(t[n]))return t[n];n+=1}})));e.exports=r},22829:function(e,t,n){var r=n(93832);e.exports=function(e,t,n){var a,i;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(a=1/t;n<e.length;){if(0===(i=e[n])&&1/i===a)return n;n+=1}return-1}if(t!=t){for(;n<e.length;){if("number"==typeof(i=e[n])&&i!=i)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(r(e[n],t))return n;n+=1}return-1}},31978:function(e,t,n){"use strict";n.d(t,{A:function(){return I}});var r=n(42845),a=n.n(r),i=n(22692),o=n(87329),c=n(58168),u=n(53986),s=n(96540),l=n(18384),p=n(17437),f=["error","status"],m=function(e){return function(t){var n=t.error,r=void 0===n?null:n,a=t.status,i=(0,u.A)(t,f);return r?(0,p.Y)(l.A,{errorCode:a||500}):(0,p.Y)(e,(0,c.A)({},i,{status:a}))}},g=n(75258),d=n(88081),h=(n(26099),n(27495),n(25440),n(10851)),A=n.n(h),v=n(22973),S=n(20875),E=function(e,t,n,r){var a=e.pageData,i=e.status,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=i,u=a&&i===v.OK;if(u){var s=function(e){var t=A()(null,["metadata","passport","home"],e);return e&&t?t.split("/").pop().toLowerCase():null}(a),l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return!0;var r=function(t){return(t||"").toLowerCase()===e.toLowerCase()};return!!r(t)||(n||[]).some(r)}(s,t,o),p=l&&function(){var e;if(r!==S.R)return!0;if("sport"===t){var i=function(e){var t=A()(null,["metadata","locators","canonicalUrl"],e);return t?t.replace(/.*(bbc\.com|bbc\.co\.uk|localhost:\d*)/,""):null}(a);return function(e,t){return e===(t?t.replace(/(\.|\?).*/g,""):null)}(i,n)}return!(null==a||null===(e=a.metadata)||void 0===e||null===(e=e.passport)||void 0===e||null===(e=e.taggings)||void 0===e?void 0:e.some((function(e){return"http://www.bbc.co.uk/ontologies/creativework/format"===e.predicate&&"http://www.bbc.co.uk/things/6b6d33cc-3e32-43e6-b06f-d43e71d44bad#id"===e.value})))}();c=p?i:v.p2}return{hasRequestSucceeded:u&&c!==v.p2,status:c}},y=["pageData","status"],b=function(e){return function(t){var n=t.pageData,r=void 0===n?null:n,a=t.status,i=(0,u.A)(t,y),o=i.service,f=void 0===o?"news":o,m=i.location,h=(void 0===m?{}:m).pathname,A=((0,s.useContext)(g.h)||{}).passportHomes,v=(0,s.useContext)(d.b).pageType,S=E({pageData:r,status:a},f,h,v,A),b=S.hasRequestSucceeded,_=S.status;return b?(0,p.Y)(e,(0,c.A)({pageData:r},i)):(0,p.Y)(l.A,{errorCode:_})}},_=n(44422),T=function(e,t){var n=e.location,r=void 0===n?{}:n,a=r.hash,i=r.pathname,o=t.location,c=void 0===o?{}:o,u=c.hash;return i===c.pathname&&a!==u},N=n.n(_)()(["location","hash"]),O=a()((function(e){return(0,s.memo)(e,T)}),(function(e){return function(t){return function(e){(0,s.useEffect)((function(){if(e){var t=document.querySelector(e);null==t||t.scrollIntoView(),null==t||t.focus()}}),[e])}(decodeURIComponent(N(t))),(0,p.Y)(e,t)}})),I=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).handlerBeforeContexts,n=void 0===t?function(e){return e}:t;return a()(b,m,o.A,n,i.A,O)(e)}},42361:function(e,t,n){"use strict";n(28706);var r=n(37667);t.A=function(e,t){return"".concat((0,r.U)().SIMORGH_ICHEF_BASE_URL,"/news/1024/branded_").concat(t,"/").concat(e)}},45599:function(e,t,n){var r=n(6762),a=n(45932),i=r((function(e,t,n){return e(a(t,n))}));e.exports=i},45932:function(e,t,n){var r=n(19545),a=n(14858),i=n(19802),o=r((function(e,t){if(null!=t)return a(e)?i(e,t):t[e]}));e.exports=o},52811:function(e,t,n){"use strict";var r=n(46518),a=n(92744),i=n(79039),o=n(20034),c=n(3451).onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:i((function(){u(1)})),sham:!a},{freeze:function(e){return u&&o(e)?u(c(e)):e}})},57194:function(e,t,n){"use strict";n.d(t,{A:function(){return R}});var r=n(96540),a=n(82439),i=n(88081),o=n(75258),c=n(17437),u=function(e){var t,n=e.chartbeatConfig;return(0,c.Y)("amp-analytics",{type:"chartbeat"},(t={vars:n},(0,c.Y)("script",{type:"application/json",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}})))},s=n(68154),l=n(60436),p=(n(28706),n(48598),n(34782),n(69085),n(18987)),f=n(21522),m=n.n(f),g=n(45599),d=n.n(g),h=n(72196),A=n.n(h),v=n(4178),S=n(31254),E=n(20875),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(null==e?void 0:e.charAt(0).toUpperCase()).concat(null==e?void 0:e.slice(1))},b=function(e,t,n){return["".concat(y(e)," - ").concat(t)].concat((0,l.A)(n?["".concat(y(e)," - ").concat(t," - ").concat(n)]:[]))},_=function(e,t){return["".concat(y(e)," - ").concat(t)]},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case E.R:return t?"ART":"New Article";case E.KM:return"article-sfv";case E.KN:return"article-media-asset";case E.rs:case E.XN:return"Radio";case E.pJ:return"TV";case E.X2:return"Most Read";case E.YR:return E.YR;case E.MX:return E.MX;case E.Sp:return"Topics";case E.ZD:return t?"LIV":"Live";default:return e}},N=function(e){var t="article-sfv",n=m()(d()(A()("primaryMediaType"),"predicate"),e||[]);if(!n)return t;var r=d()(A()("fe1fbc8a-bb44-4bf8-8b12-52e58c6345a4"),"value",n),a=d()(A()("ffc98bca-8cff-4ee6-9beb-a6ff6ef3ef9f"),"value",n);return r?"audio":a?"video":t},O=function(e){var t=e.isAmp,n=e.platform,r=e.pageType,a=e.brandName,i=e.env,o=e.service,c=e.chartbeatDomain,u=e.mediaPageType,s=e.sectionName,f=e.categoryName,m=e.title,g=e.authors,d=e.taggings,h=e.contentType,A=e.producer,O=e.chapter,I=t?(0,S.G2)(n):null,R=function(e){var t=e.pageType,n=e.title,r=e.brandName;switch(t){case E.X2:case E.Sp:case E.ZD:case E.rs:case E.XN:case E.pJ:case"index":return"".concat(n," - ").concat(r);case E.R:case E.KN:case E.YR:case E.MX:default:return n}}({pageType:r,brandName:a,title:m}),C="live"!==i?"test.bbc.co.uk":c,L=function(e){var t,n=e.service,r=e.pageType,a=e.sectionName,i=e.categoryName,o=e.mediaPageType,c=e.taggings,u=e.producer,s=e.chapter,p=u&&u.toLowerCase()!==n.toLowerCase(),f=T(r,!0);switch(r){case E.YR:case E.KN:return[y(n)].concat((0,l.A)(a?_(n,a):[]),[_(n,r)],(0,l.A)(a?_(_(n,a).join(", "),r):[]),(0,l.A)(i?_(n,(t=i,"".concat(t,"-category"))):[])).join(", ");case E.rs:case E.XN:case E.pJ:return[y(n)].concat((0,l.A)(o?_(n,o):[]),(0,l.A)(p?b(n,u,f):[]),(0,l.A)(s?b(n,s,f):[])).join(", ");case E.KM:return[y(n),_(n,N(c))].concat((0,l.A)(p?b(n,u,f):[]),(0,l.A)(s?b(n,s,f):[])).join(", ");default:return[y(n)].concat((0,l.A)(f?_(n,f):[]),(0,l.A)(p?b(n,u,f):[]),(0,l.A)(s?b(n,s,f):[])).join(", ")}}({service:o,pageType:r,sectionName:s,categoryName:f,mediaPageType:u,taggings:d,producer:A,chapter:O}),w=(0,v.A)()?p.A.get("ckns_sylphid"):null,B=(0,v.A)()&&window.location.pathname,P=h||T(r);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({domain:C,sections:L,uid:50924,title:R},g&&{authors:g}),{virtualReferrer:I}),t&&{contentType:P}),!t&&{type:P,useCanonical:true,path:B}),w&&{idSync:{bbc_hid:w}})},I=function(e){var t=e.chartbeatConfig,n=e.chartbeatSource,a=void 0===n?"//static.chartbeat.com/js/chartbeat.js":n;return r.createElement(s.m,null,r.createElement("script",{async:!0,type:"text/javascript"},"\n        (function(){\n          var _sf_async_config = window._sf_async_config = (window._sf_async_config || {});\n          var config = ".concat(JSON.stringify(t),";\n          for (var key in config) {\n            _sf_async_config[key] = config[key];\n          }\n        })();\n      ")),r.createElement("script",{defer:!0,type:"text/javascript",src:a}))},R=function(e){var t=e.sectionName,n=e.categoryName,c=e.mediaPageType,s=e.title,l=e.authors,p=e.taggings,f=e.contentType,m=e.producer,g=e.chapter,d=(0,r.useContext)(o.h),h=d.service,A=d.brandName,v=d.chartbeatDomain,S=(0,r.useContext)(i.b),E=S.env,y=S.isAmp,b=S.platform,_=S.pageType;if(!(0,a.A)("chartbeatAnalytics").enabled)return null;var T=O({isAmp:y,platform:b,pageType:_,brandName:A,chartbeatDomain:v,env:E,service:h,sectionName:t,categoryName:n,mediaPageType:c,title:s,authors:l,taggings:p,contentType:f,producer:m,chapter:g});return y?r.createElement(u,{chartbeatConfig:T}):r.createElement(I,{chartbeatConfig:T})}},67037:function(e,t,n){"use strict";n.d(t,{A:function(){return A}});n(52675),n(89463),n(28706),n(74423),n(62062),n(69085),n(26099),n(11392);var r=n(17437),a=n(3796),i=n(96540),o=n(68154),c=n(88081),u=n(75258),s=(n(48598),n(79432),n(37667)),l=function(e,t){return"https://static.files.bbci.co.uk/ws/simorgh-assets/public/".concat(e,"/images/icons/icon-").concat(t,".png")},p=function(e,t){return t?Object.keys(t).map((function(n){return function(e,t,n){return t[n].map((function(t){var r=l(e,t),a="".concat(e,"-").concat(t);return"icon"===n?i.createElement("link",{key:a,rel:"icon",type:"image/png",href:r,sizes:t}):i.createElement("link",{key:a,rel:"apple-touch-icon",sizes:t,href:r})}))}(e,t,n)})):null},f=function(e){return i.createElement("link",{rel:"alternate",href:e.href,hrefLang:e.hrefLang||"",key:e.hrefLang})},m=n(32816),g=["news","sport","ws"],d={"apple-touch-icon":["72x72","96x96","128x128","144x144","152x152","180x180","192x192","384x384","512x512"],icon:["72x72","96x96","192x192"]},h=function(e){return null==e?void 0:e.map((function(e){var t=e.thingLabel;return(0,r.Y)("meta",{name:"article:tag",content:t,key:t})}))},A=function(e){var t=e.title,n=e.socialHeadline,A=e.lang,v=e.twitterHandle,S=e.description,E=e.openGraphType,y=e.aboutTags,b=e.mentionsTags,_=e.image,T=e.imageAltText,N=e.imageWidth,O=e.imageHeight,I=e.children,R=e.hasAppleItunesAppBanner,C=void 0!==R&&R,L=e.hasAmpPage,w=void 0===L||L,B=(0,i.useContext)(c.b),P=B.isAmp,x=B.canonicalLink,U=B.ampLink,D=B.canonicalUkLink,j=B.ampUkLink,G=B.canonicalNonUkLink,Y=B.ampNonUkLink,H=B.pathname,k=B.isUK,W=B.isLite,M=(0,i.useContext)(u.h),K=M.service,V=M.brandName,F=M.defaultImage,$=M.defaultImageAltText,X=M.dir,q=M.locale,z=M.isoLang,J=M.twitterCreator,Z=M.twitterSite,Q=M.iTunesAppId,ee=M.googleSiteVerification,te=M.translations,ne=(0,a.u)().palette.BRAND_BACKGROUND,re=function(e){return[(0,s.U)().SIMORGH_PUBLIC_STATIC_ASSETS_ORIGIN,(0,s.U)().SIMORGH_PUBLIC_STATIC_ASSETS_PATH,e,"/images/icons/icon-192x192.png"].join("")}(K),ae=g.includes(K),ie=["/sport/formula1","/sport/cricket/articles","/sport/rugby-union/articles","/sport/rugby-league/articles"].some((function(e){return null==H?void 0:H.startsWith(e)})),oe=!ie&&P,ce=[{href:oe?Y:G,hrefLang:"x-default"},{href:oe?Y:G,hrefLang:"en"},{href:oe?j:D,hrefLang:"en-gb"}],ue=[{href:x,hrefLang:z}],se=k&&ie?D:G,le=Object.assign({dir:X,lang:A},P&&{amp:""}),pe=te.liteSite,fe=(void 0===pe?m.A:pe).dataSaving,me="".concat(t," - ").concat(fe,": ").concat(V),ge="".concat(t," - ").concat(V),de="".concat(n||t," - ").concat(V),he=v||J,Ae=_||F,ve=T||$,Se=w&&!P;return(0,r.Y)(o.m,{htmlAttributes:le},(0,r.Y)("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),(0,r.Y)("meta",{charSet:"utf-8"}),(0,r.Y)("meta",{name:"robots",content:"noodp, noydir, max-image-preview:large"}),(0,r.Y)("meta",{name:"theme-color",content:ne}),ee&&(0,r.Y)("meta",{name:"google-site-verification",content:ee}),(0,r.Y)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, minimum-scale=1"}),(0,r.Y)("title",null,W?me:ge),(0,r.Y)("link",{rel:"canonical",href:se}),ae&&ce.map(f),z&&!ae&&ue.map(f),Se&&(0,r.Y)("link",{rel:"amphtml",href:U}),function(e){var t=e.iTunesAppId,n=e.canonicalLink;if([t,n,!e.isAmp,e.hasAppleItunesAppBanner].every(Boolean)){var r="app-id=".concat(t,", app-argument=").concat(n,"?utm_medium=banner&utm_content=apple-itunes-app");return i.createElement("meta",{name:"apple-itunes-app",content:r})}return null}({iTunesAppId:Q,canonicalLink:x,isAmp:P,hasAppleItunesAppBanner:C}),(0,r.Y)("meta",{name:"apple-mobile-web-app-title",content:V}),(0,r.Y)("meta",{name:"application-name",content:V}),(0,r.Y)("meta",{name:"description",content:S}),(0,r.Y)("meta",{property:"fb:app_id",content:"1609039196070050"}),(0,r.Y)("meta",{name:"facebook-domain-verification",content:"mydfaj4vz8t5psneihy4nm6ff52fac"}),(0,r.Y)("meta",{name:"mobile-web-app-capable",content:"yes"}),(0,r.Y)("meta",{name:"msapplication-TileColor",content:ne}),(0,r.Y)("meta",{name:"msapplication-TileImage",content:l(K,"144x144")}),(0,r.Y)("meta",{property:"og:description",content:S}),(0,r.Y)("meta",{property:"og:image",content:Ae}),(0,r.Y)("meta",{property:"og:image:alt",content:ve}),N&&(0,r.Y)("meta",{property:"og:image:width",content:String(N)}),O&&(0,r.Y)("meta",{property:"og:image:height",content:String(O)}),(0,r.Y)("meta",{property:"og:locale",content:q}),(0,r.Y)("meta",{property:"og:site_name",content:V}),(0,r.Y)("meta",{property:"og:title",content:de}),(0,r.Y)("meta",{property:"og:type",content:E}),(0,r.Y)("meta",{property:"og:url",content:G}),(0,r.Y)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.Y)("meta",{name:"twitter:creator",content:he}),(0,r.Y)("meta",{name:"twitter:description",content:S}),(0,r.Y)("meta",{name:"twitter:image:alt",content:ve}),(0,r.Y)("meta",{name:"twitter:image:src",content:Ae}),(0,r.Y)("meta",{name:"twitter:site",content:Z}),(0,r.Y)("meta",{name:"twitter:title",content:de}),!P&&(0,r.Y)("meta",{httpEquiv:"onion-location",content:"https://www.bbcweb3hytmzhn5d532owbu6oqadra5z3ar726vq5kgwwn6aucdccrad.onion".concat(H)}),Boolean(null==y?void 0:y.length)&&h(y),Boolean(null==b?void 0:b.length)&&h(b),(0,r.Y)("link",{rel:"apple-touch-icon",href:re}),p(K,d),(0,r.Y)("link",{rel:"apple-touch-startup-image",href:l(K,"512x512")}),(0,r.Y)("link",{rel:"shortcut icon",href:"/favicon.ico",type:"image/x-icon"}),I)}},72196:function(e,t,n){var r=n(17735),a=n(19545)(r);e.exports=a},77380:function(e,t,n){"use strict";n.d(t,{A:function(){return D}});var r=n(96540),a=n(88081),i=n(75258),o=n(5544),c=n(37667),u=n(16389),s=n(68154),l=n(4423),p=(n(26099),n(38781),n(82284)),f=(n(52675),n(89463),n(2259),n(45700),n(28706),n(23418),n(23792),n(48598),n(62062),n(72712),n(34782),n(89572),n(62010),n(5506),n(52811),n(79432),n(27495),n(47764),n(62953),{d:function(e,t){for(var n in t)f.o(t,n)&&!f.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}),m={};f.d(m,{Q:function(){return I}});var g=JSON.parse('{"DEFAULT":{"id":"596068"},"DEFAULT_TEST":{"id":"596068"},"NEWS_PS":{"id":"598285"},"NEWS_LANGUAGES_PS":{"id":"598291"},"NEWS_GNL":{"id":"598287"},"NEWS_LANGUAGES_GNL":{"id":"598289"},"NEWS_PS_TEST":{"id":"598286"},"NEWS_LANGUAGES_PS_TEST":{"id":"598292"},"NEWS_LANGUAGES_GNL_TEST":{"id":"598290"},"NEWS_GNL_TEST":{"id":"598288"},"WS_NEWS_LANGUAGES":{"id":"598342"},"WS_NEWS_LANGUAGES_TEST":{"id":"598343"},"PS_HOMEPAGE":{"id":"598273"},"PS_HOMEPAGE_TEST":{"id":"598274"},"BBC_ARCHIVE_PS":{"id":"605565"},"BBC_ARCHIVE_PS_TEST":{"id":"605566"},"NEWSROUND":{"id":"598293"},"NEWSROUND_TEST":{"id":"598294"},"SPORT_GNL":{"id":"598308"},"SPORT_GNL_TEST":{"id":"598309"},"SPORT_PS":{"id":"598310"},"SPORT_PS_TEST":{"id":"598311"}}'),d=JSON.parse('{"ACADEMY":"125","ACCOUNT":"1","AFAAN_OROMOO":"2","AFRIQUE":"3","AMHARIC":"4","ARABIC":"5","AUDIENCE_SERVICES":"116","AZERI":"6","BBC":"7","BBC_ALBA":"8","BBC_ARCHIVE":"127","BBC_ARTS":"9","BBC_ASIAN_NETWORK":"10","BBC_FOOD":"11","BBC_FOUR":"12","BBC_HD":"13","BBC_MUSIC":"14","BBC_NEWS_CHANNEL":"15","BBC_ONE":"16","BBC_PARLIAMENT_CHANNEL":"17","BBC_RADIO":"18","BBC_RADIO_1":"19","BBC_RADIO_1XTRA":"20","BBC_RADIO_2":"21","BBC_RADIO_3":"22","BBC_RADIO_4":"23","BBC_RADIO_4_EXTRA":"24","BBC_RADIO_5_LIVE":"25","BBC_RADIO_6_MUSIC":"26","BBC_SCOTLAND":"120","BBC_SEND":"121","BBC_STUDIOS":"128","BBC_THREE":"28","BBC_TWO":"29","BBC_WORLD_NEWS":"30","BENGALI":"31","BITESIZE":"32","BRASIL":"33","BRITBOX":"34","BRITBOX_AU":"132","BURMESE":"35","CBBC":"36","CBEEBIES":"37","CHINESE":"38","ENGLISH_REGIONS":"39","GAHUZA":"40","GATEWAY":"41","GNL_AUTOS":"42","GNL_CAPITAL":"43","GNL_CULTURE":"44","GNL_EARTH":"45","GNL_FUTURE":"46","GNL_HOMEPAGE":"47","GNL_STORYWORKS":"48","GNL_TRAVEL":"49","GUJARATI":"50","HAUSA":"51","HINDI":"52","IGBO":"53","INDONESIAN":"54","IPLAYER":"55","JAPANESE":"56","KOREAN":"57","KYRGYZ":"58","MARATHI":"59","MEDIA_ACTION":"60","MONITORING":"61","MUNDO":"62","NEPALI":"63","NEWS":"64","NEWSROUND":"65","NEWS_ENGLISH_REGIONS":"108","NEWS_LABS":"129","NEWS_NORTHERN_IRELAND":"114","NEWS_SCOTLAND":"110","NEWS_WALES":"112","NORTHERN_IRELAND":"66","OTHER":"67","OWN_IT":"118","PARTICIPATION":"130","PASHTO":"68","PERSIAN":"69","PIDGIN":"70","PROGRAMMES":"71","PS_HOMEPAGE":"72","PUNJABI":"73","RD":"126","RECEPTION":"124","REEL":"74","RUSSIAN":"75","S4C":"76","SCHOOL_RADIO":"77","SCHOOL_REPORT":"78","SCOTLAND":"79","SEARCH":"80","SERBIAN":"81","SINHALA":"82","SOMALI":"83","SOUNDS":"84","SPORT":"85","SPORT_ENGLISH_REGIONS":"109","SPORT_NORTHERN_IRELAND":"115","SPORT_SCOTLAND":"111","SPORT_WALES":"113","SWAHILI":"86","TAMIL":"87","TASTER":"88","TEACH":"119","TELUGU":"89","THAI":"90","TIGRINYA":"91","TURKISH":"92","TV_CERTIFICATION":"131","UKRAINIAN":"94","UK_CHINA":"93","URDU":"95","UZBEK":"96","VIETNAMESE":"97","VOICE":"98","VOICE_FIRST_FORMATS":"99","VOLT":"122","WALES":"100","WEATHER":"101","WEATHER_WATCHERS":"102","WEBAPPS":"133","WORKLIFE":"104","WORLD_NEWS_PROGRAMMES":"117","WORLD_SERVICE_ENGLISH":"103","WS_LEARNING_ENGLISH":"105","WS_PARTNERS_B2B":"106","YORUBA":"107"}');function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var A={isValidPageProperties:function(e){return!(null==e||0===Object.keys(e).length||e.params&&0===Object.keys(e.params).length||e.params.page&&0===Object.keys(e.params.page).length)},checkIfKeyExist:function(e,t){var n,r=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(o)throw a}}}}(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(null!=e&&e[a])return a}}catch(e){r.e(e)}finally{r.f()}return"s"},returnPrecedingKeysForCustomProperties:function(e){return A.checkIfKeyExist(e,["x4","x3","x2","x1","p","s2"])},returnPrecedingKeysForDeviceProperties:function(e){return A.checkIfKeyExist(e,["p","s2"])}};function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S={getSanitisedPageProperties:function(e){if(!A.isValidPageProperties(e))return null;var t=e.params.page,n=t.additionalProperties;return["destination","producer","name","contentId","app_type","app_name","content_language","referrer_url","contentType","x8","x9","x10","x11","x12","x13","x14","x15","x16","x17"].reduce((function(e,r){var a,i,o,c=null!==(a=t[r])&&void 0!==a?a:null==n?void 0:n[r],u={destination:function(e){return function(e){var t,n;return e&&null!==(t=null===(n=g[e.toUpperCase()])||void 0===n?void 0:n.id)&&void 0!==t?t:g.DEFAULT.id}(e)},producer:function(e){return function(e){return e&&d[e.toUpperCase()]||""}(e)}};return null!=(c=null!==(i=null===(o=u[r])||void 0===o?void 0:o.call(u,c))&&void 0!==i?i:c)&&""!==c&&(e[S.transformKeys(r)]=encodeURIComponent(c)),e}),{})},generateAmpUrlPageProperties:function(e){if(!A.isValidPageProperties(e))return null;for(var t=S.getSanitisedPageProperties(e),n={},r=A.returnPrecedingKeysForCustomProperties(t),a=A.returnPrecedingKeysForDeviceProperties(t),i=0,o=Object.entries(t);i<o.length;i++){var c=function(e){if(Array.isArray(e))return e}(l=o[i])||function(e){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,a,i,o=[],c=!0,u=!1;try{for(a=(t=t.call(e)).next,!2;!(c=(n=a.call(t)).done)&&(o.push(n.value),2!==o.length);c=!0);}catch(e){u=!0,r=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw r}}return o}}(l)||function(e){if(e){if("string"==typeof e)return v(e,2);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,2):void 0}}(l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],s=c[1];n[u]=s,u===a&&(n.r="${screenWidth}x${screenHeight}x${screenColorDepth}",n.re="${availableScreenWidth}x${availableScreenHeight}",n.hl="${timestamp}",n.lng="${browserLanguage}"),u===r&&(n.x5="${sourceUrl}",n.x6="${documentReferrer}")}var l;return n},transformKeys:function(e){var t={destination:"s",producer:"s2",name:"p",contentId:"x1",app_type:"x2",app_name:"x3",content_language:"x4",referrer_url:"x6",contentType:"x7"};return t[e]?t[e]:e}};function E(e){return E="function"==typeof Symbol&&"symbol"==(0,p.A)(Symbol.iterator)?function(e){return(0,p.A)(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":(0,p.A)(e)},E(e)}function y(e,t,n){return(t=function(e){var t=function(e){if("object"!=E(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=Object.freeze({TEST:"test",LIVE:"live"}),_=y(y({},b.TEST,{BASE_URL:"https://logws1363.ati-host.net/hit.xiti?"}),b.LIVE,{BASE_URL:"https://a1.api.bbc.co.uk/hit.xiti?"}),T=function(e){return _[e]?_[e].BASE_URL:_[b.TEST].BASE_URL};function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,c=[],u=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){s=!0,a=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var I={getAmpAnalyticsPageViewUrl:function(e){var t,n=S.generateAmpUrlPageProperties(e),r=null==e||null===(t=e.params)||void 0===t||null===(t=t.env)||void 0===t?void 0:t.toLowerCase();return n?{base:T(r),pageview:"${baseUrl}"+Object.entries(n).map((function(e){var t=N(e,2),n=t[0],r=t[1];return/x(\d+)/.test(n)?"".concat(n,"=[").concat(r,"]"):"".concat(n,"=").concat(r)})).join("&")+"&ref=${documentReferrer}"}:null},getTrackingPixelSrc:function(e){var t,n=S.getSanitisedPageProperties(e),r=null==e||null===(t=e.params)||void 0===t||null===(t=t.env)||void 0===t?void 0:t.toLowerCase();return n?T(r)+Object.entries(n).map((function(e){var t=N(e,2),n=t[0],r=t[1];return"x8"===n?"".concat(n,"=[").concat(r,"-nojs]"):/x(\d+)/.test(n)?"".concat(n,"=[").concat(r,"]"):"".concat(n,"=").concat(r)})).join("&"):null}},R=m.Q,C=function(e){return R.getTrackingPixelSrc(e)},L=function(e){return r.createElement(s.m,null,function(e){var t=e.script,n=t;return"function"==typeof t&&(n="(".concat(t.toString(),")()")),r.createElement("script",{type:"text/javascript"},n)}({script:e}))},w=function(e){var t=e.pageviewParams,n=e.reverbParams,i=(0,r.useContext)(a.b).isLite,s=(0,c.U)().SIMORGH_ATI_BASE_URL+t,p=(0,r.useState)(n),f=(0,o.A)(p,1)[0],m=(0,r.useState)(s),g=(0,o.A)(m,1)[0];return(0,r.useEffect)((function(){(0,u.A)()||(0,l.A)(g,f)}),[g,f]),r.createElement(r.Fragment,null,L('\n    window.sendStaticBeacon = function (atiUrlString) {\n        var xhr = new XMLHttpRequest();\n        xhr.open("GET", atiUrlString, true);\n        xhr.withCredentials = true;\n        xhr.send();\n    };\n'),i&&L('\n    window.sendStaticBeacon("'.concat(s,'");\n')),!i&&L(function(e){return"\n    if (".concat(u.A.toString(),'() && !Boolean(window.hasOperaMiniScriptRan)) {\n      window.hasOperaMiniScriptRan = true;\n\n      var atiPageViewUrl = "').concat(e,'";\n      atiPageViewUrl += document.referrer ? "&ref=" + document.referrer : \'\';\n\n      window.sendStaticBeacon(atiPageViewUrl);\n    }\n')}(s)),function(e){return r.createElement("noscript",null,r.createElement("img",{height:"1px",width:"1px",alt:"",style:{position:"absolute"},src:C(e)}))}(n))},B=n(17437),P=function(e){return{transport:{beacon:!1,xhrpost:!1,image:!0},requests:{base:e.baseUrl,pageview:"${base}"+e.pageviewParams},triggers:{trackPageview:{on:"visible",request:"pageview"}}}},x=function(e){var t,n=e.pageviewParams;return(0,B.Y)("amp-analytics",null,(t=P({baseUrl:(0,c.U)().SIMORGH_ATI_BASE_URL,pageviewParams:n}),(0,B.Y)("script",{type:"application/json",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}})))},U=n(86991),D=function(e){var t=e.atiData,n=void 0===t?{}:t,o=(0,r.useContext)(a.b),c=(0,r.useContext)(i.h),u=o.isAmp,s=c.useReverb,l=(0,U.eT)({requestContext:o,serviceContext:c,atiData:n}),p=s?(0,U.Pp)({requestContext:o,serviceContext:c,atiData:n}):null;return l?u?r.createElement(x,{pageviewParams:l}):r.createElement(w,{pageviewParams:l,reverbParams:p}):null}}}]);
//# sourceMappingURL=legacy.shared-REy8j0LYq9Ugdyyy7Ty8tSrHasI.db9517ba.js.map