(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1174],{761:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(96540);const a=(e,t)=>{(0,r.useEffect)((()=>{var n=window.matchMedia(e);return t(n),n.addEventListener?n.addEventListener("change",t):n.addListener(t),()=>{n.removeEventListener?n.removeEventListener("change",t):n.removeListener(t)}}),[e,t])}},9972:(e,t,n)=>{n.d(t,{A:()=>a});n(23792),n(62953);var r=n(96540);const a=()=>{var[e,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{"undefined"!=typeof window&&window.operamini&&t(!0)}),[]),e}},17624:(e,t,n)=>{n.d(t,{D:()=>l,s:()=>d});var r=n(64980),a=(n(26099),n(16034),n(96540)),i=n(88081),o=n(82439),c=n(20875),s=n(86991),u=n(75258),l=(0,a.createContext)({}),v={},d=function(e){var t=e.children,n=e.atiData,d=(0,a.useContext)(i.b),p=d.pageType,f=(0,a.useContext)(u.h),m=f.atiAnalyticsProducerId,y=f.atiAnalyticsProducerName,g=(0,o.A)("eventTracking").enabled,A=(0,a.useMemo)((function(){if(g&&n){var e=function(e){var t,n=(t={},(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)(t,c.R,"article"),c.KM,"article-sfv"),c.X2,"list-datadriven-read"),c.KN,"article-media-asset"),c.YR,"article-sty"),c.MX,"article-photo-gallery"),c.vw,"article-csp"),c.Sp,"topic-page"),c.ZD,"live-page"),c.Ko,"index-home"),(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)(t,c.M$,""),c.zA,"static-page"),c.G_,""),c.lU,"av-embeds"),c.WK,"downloads"),c.rs,"player-live"),c.XN,"player-episode"),c.pJ,"player-episode"))[e];return n||console.warn("ATI Event Tracking Error: Could not get the page type's campaign name"),n}(p),t=(0,s.uo)({requestContext:d,serviceContext:f,atiData:n}),a=t.pageIdentifier,i=t.platform,o=t.statsDestination;return{campaignID:e,pageIdentifier:a,platform:i,producerId:m,producerName:y,statsDestination:o}}return null}),[m,y,n,g,p,d,f]);if(!g||!n)return a.createElement(l.Provider,{value:v},t);var b=Object.values(A).every(Boolean);return a.createElement(l.Provider,{value:b?A:v},t)}},25457:(e,t,n)=>{n.d(t,{R:()=>d,a:()=>p});var r=n(80296),a=n(96540),i=n(18987),o=n(4178),c=n(16389),s=n(62242),u=n(48577),l=function(){return i.A.get("ckns_policy")||"000"},v=function(e){return!(!e||3!==e.length||"1"!==e[2])},d=a.createContext({}),p=function(e){var t=e.children,n=(0,a.useState)(l()),p=(0,r.A)(n,2),f=p[0],m=p[1];(0,o.A)()&&!(0,c.A)()&&function(){var e="ckns_mvt";if(!i.A.get(e)){var t=(0,u.A)();(0,s.A)({name:e,value:t})}}();var y=(0,a.useMemo)((function(){return{cookiePolicy:f,updateCookiePolicy:function(){return m(l())},personalisationEnabled:v(f)}}),[f]);return a.createElement(d.Provider,{value:y},t)}},27028:(e,t,n)=>{n.d(t,{A:()=>b});var r=n(64980),a=n(80296),i=n(54756),o=n.n(i),c=(n(23792),n(69085),n(26099),n(3362),n(47764),n(62953),n(96540)),s=n(88081),u=n(20813),l=n(88253),v=n(69099),d=n(51813),p=n(37221),f=n(8073),m=n(64074),y=n(37884),g=n(75258),A=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}s((r=r.apply(e,t||[])).next())}))};const b=function(e){var t=(0,c.useContext)(s.b).isLite,i=function(e){var t=(0,p.A)({eventTrackingData:e,eventType:v.Rl}),r=t.componentName,i=t.format,s=t.advertiserID,d=t.url,b=t.pageIdentifier,E=t.platform,O=t.producerId,h=t.producerName,w=t.statsDestination,k=t.campaignID,P=t.detailedPlacement,D=t.sendOptimizelyEvents,S=(0,c.useContext)(u.wP).optimizely,_=(0,l.A)(y.A.ruleKey),L=(0,c.useRef)(null),x=(0,c.useRef)(null),N=(0,c.useState)(!1),C=(0,a.A)(N,2),I=C[0],T=C[1],K=(0,c.useState)(!1),j=(0,a.A)(K,2),R=j[0],G=j[1],U=(0,m.A)(r).trackingIsEnabled,B=(0,c.useContext)(g.h),M=B.service,z=B.useReverb;return(0,c.useEffect)((function(){return I&&!x.current?x.current=setTimeout((function(){var e;if([[k,r,b,E,O,h,M,w].every(Boolean),U,!R].every(Boolean)){if(S&&D&&_){var t=null==S?void 0:S.user.attributes;S.track("".concat(r,"-views"),S.user.id,t)}(0,f.T)(Object.assign({campaignID:k,componentName:r,format:i,pageIdentifier:b,platform:E,producerId:O,producerName:h,service:M,statsDestination:w,type:v.Rl,advertiserID:s,url:d,detailedPlacement:P,useReverb:z},_&&"off"!==_&&{experimentVariant:_})),G(!0),null===(e=L.current)||void 0===e||e.disconnect(),L.current=null,x.current=null}}),1e3):(clearTimeout(x.current),x.current=null),function(){clearTimeout(x.current)}}),[k,r,i,I,b,E,O,h,M,w,U,R,s,d,D,S,_,P,z]),(0,c.useCallback)((function(e){return A(void 0,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&U&&!R){t.next=2;break}return t.abrupt("return");case 2:if(L.current){t.next=5;break}return t.next=5,A(void 0,void 0,void 0,o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==window.IntersectionObserver){e.next=3;break}return e.next=3,n.e(5127).then(n.t.bind(n,95127,23));case 3:t=function(e){var t=e.some((function(e){return e.isIntersecting}));T(t)},r={threshold:[.5]},L.current=new IntersectionObserver(t,r);case 6:case"end":return e.stop()}}),e)})));case 5:null===(r=L.current)||void 0===r||r.observe(e);case 6:case"end":return t.stop()}}),t)})))}),[U,R])}(e),b=(0,d.A)({eventTrackingData:e,eventType:v.Rl});return t?(0,r.A)({},v.kd,b):{ref:i}}},53665:(e,t,n)=>{n.d(t,{Gg:()=>d,$z:()=>p});var r=n(80296),a=n(96540),i=n(11197),o=n(37667),c=(n(69085),n(10851)),s=n.n(c),u=function(e){var t=e.data;return s()(!1,["toggles","ads","enabled"],t)};const l=function(e,t){var n=t.type,r=t.data;return"UPDATE_TOGGLE_STATE"===n?Object.assign(Object.assign(Object.assign({},e),r.toggles),{ads:{enabled:u({data:r})}}):e};var v=(0,o.U)().SIMORGH_APP_ENV||"local",d=(0,a.createContext)({}),p=function(e){var t=e.children,n=e.toggles,o=void 0===n?i.A[v]:n,c=(0,a.useReducer)(l,o),s=(0,r.A)(c,2),u=s[0],p=s[1],f=(0,a.useMemo)((function(){return{toggleState:u,toggleDispatch:p}}),[u,p]);return a.createElement(d.Provider,{value:f},t)};d.Consumer},64074:(e,t,n)=>{n.d(t,{A:()=>a});n(74423),n(21699),n(42762);var r=n(82439);const a=e=>{var{enabled:t,value:n}=(0,r.A)("eventTracking"),a=("string"==typeof n?n.trim().split(","):[]).includes(e);return{trackingIsEnabled:!0===t&&!a}}},71871:(e,t,n)=>{n.d(t,{A:()=>L});var r=n(64980),a=n(10467),i=(n(23792),n(62953),n(96540)),o=n(20813),c=n(88253),s=n(37221),u=n(51813),l=n(69099),v=n(88081),d=n(80296);var p=n(64074),f=n(37884),m=n(8073),y=n(75258),g=n(66749),A=n.n(g),b=n(65044),E=n.n(b),O=e=>0===e,h=e=>1===e||4===e,w=e=>h(e.button)||(e=>O(e.button)&&e.shiftKey&&!(e.metaKey||e.altKey||e.ctrlKey))(e),k=(e,t)=>t&&!e.shiftKey&&!e.altKey||e.shiftKey&&t&&!e.altKey||e.shiftKey&&t&&e.altKey||e.shiftKey&&e.altKey&&!t||e.altKey&&t&&!e.shiftKey,P=e=>(A()(E()("Mac"),["navigator","platform"],window)?(e=>O(e.button)&&k(e,e.metaKey))(e):(e=>O(e.button)&&k(e,e.ctrlKey))(e))||w(e),D=e=>h(e.button)||(e=>O(e.button)&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey))(e)||P(e);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isAmp:t}=(0,i.useContext)(v.b),n=function(){var e=(0,i.useState)(!1),t=(0,d.A)(e,2),n=t[0],r=t[1];return(0,i.useEffect)((function(){r(!0)}),[]),n}(),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{pageIdentifier:t,producerId:n,platform:r,statsDestination:u,componentName:v,campaignID:d,format:g,advertiserID:A,url:b,detailedPlacement:E,producerName:O,preventNavigation:h,sendOptimizelyEvents:w}=(0,s.A)({eventTrackingData:e,eventType:l.sz}),{trackingIsEnabled:k}=(0,p.A)(v),[P,S]=(0,i.useState)(!1),{service:L,useReverb:x}=(0,i.useContext)(y.h),{optimizely:N}=(0,i.useContext)(o.wP),C=(0,c.A)(f.A.ruleKey);return(0,i.useCallback)(function(){var e=(0,a.A)((function*(e){if([k,!P,D(e)].every(Boolean)&&(S(!0),[d,v,t,r,n,O,L,u].every(Boolean))){var a,i=null==e||null===(a=e.currentTarget)||void 0===a?void 0:a.href;if(e.stopPropagation(),e.preventDefault(),N&&w&&C){var o=null==N?void 0:N.user.attributes;N.track("".concat(v,"-clicks"),N.user.id,o)}try{yield(0,m.T)(_({type:l.sz,campaignID:d,componentName:v,format:g,pageIdentifier:t,platform:r,producerId:n,producerName:O,service:L,advertiserID:A,statsDestination:u,url:b||i,detailedPlacement:E,useReverb:x},C&&"off"!==C&&{experimentVariant:C}))}finally{i&&!h&&(N&&N.close(),window.location.assign(i))}}}));return function(t){return e.apply(this,arguments)}}(),[k,P,d,v,t,r,h,n,O,L,u,b,A,g,w,N,C,E,x])}(e),g=(0,u.A)({eventTrackingData:e,eventType:l.sz,isStatic:!n});return _(_({},!n&&!t&&{[l.Fk]:g}),n&&{onClick:r})}},75258:(e,t,n)=>{n.d(t,{h:()=>c,y:()=>s});var r=n(96540),a=n(72702),i=n(31),o=n(81292),c=(0,r.createContext)({}),s=function(e){var t=e.children,n=e.service,s=e.variant,u=e.pageLang,l=a.A[n];return l?r.createElement(l,{Context:c,dataKey:(0,o.A)({service:n,pageLang:u})||(0,i.IX)({service:n,variant:s})},t):null}},82439:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(64980),a=n(96540),i=n(53665);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const c=e=>{var t=(0,a.useContext)(i.Gg).toggleState[e],{enabled:n=null,value:c}=t||{};return t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{enabled:n,value:c}):{enabled:null}}},88081:(e,t,n)=>{n.d(t,{b:()=>d,I:()=>p});n(69085);var r=n(96540);const a=function(e){var t=e.isUK,n=void 0===t||t,r=e.env,a=void 0===r?"test":r,i="";switch(e.service){case"news":i=!1!==n?"NEWS_PS":"NEWS_GNL";break;case"cymrufyw":case"naidheachdan":i=!1!==n?"NEWS_LANGUAGES_PS":"NEWS_LANGUAGES_GNL";break;case"japanese":i="NEWS_LANGUAGES_GNL";break;case"scotland":i="PS_HOMEPAGE";break;case"archive":i="BBC_ARCHIVE_PS";break;case"newsround":i="NEWSROUND";break;case"sport":i=!1!==n?"SPORT_PS":"SPORT_GNL";break;case"ws":i="DEFAULT";break;default:i="WS_NEWS_LANGUAGES"}return"live"===a?i:"".concat(i,"_TEST")};var i=n(37667),o=n(65606);const c=function(e){var t="https://www.bbc.co.uk";return e?t=e:(null!=o?"local"===(0,i.U)().SIMORGH_APP_ENV:void 0)?t=(0,i.U)().SIMORGH_BASE_URL:"undefined"!=typeof window&&window.location&&window.location.origin&&(t=window.location.origin),{origin:t}};n(74423),n(21699);const s=function(e){return e.includes("local")?"local":e.includes("test")||e.includes("stage")?"test":"live"};n(28706),n(27495),n(25440);var u=n(71390),l=function(e){return"".concat(e,".amp")};const v=function(e,t){var n=function(e,t){return"".concat(e).concat(t).replace(u.AMP_REGEX,"").replace(u.LITE_REGEX,"")}(e,t),r=n.replace(u.TLD_REGEX,".co.uk"),a=function(e){return e.replace(u.TLD_REGEX,".com")}(n);return{canonicalLink:n,ampLink:l(n),canonicalUkLink:r,ampUkLink:l(r),canonicalNonUkLink:a,ampNonUkLink:l(a)}};var d=r.createContext({}),p=function(e){var t=e.bbcOrigin,n=void 0===t?null:t,i=e.derivedPageType,o=void 0===i?null:i,u=e.children,l=e.id,p=void 0===l?null:l,f=e.isAmp,m=void 0!==f&&f,y=e.isApp,g=void 0!==y&&y,A=e.isLite,b=void 0!==A&&A,E=e.isNextJs,O=void 0!==E&&E,h=e.mvtExperiments,w=void 0===h?null:h,k=e.pageType,P=e.pathname,D=e.service,S=e.showAdsBasedOnLocation,_=void 0!==S&&S,L=e.showCookieBannerBasedOnCountry,x=void 0===L||L,N=e.statusCode,C=void 0===N?null:N,I=e.timeOnServer,T=void 0===I?null:I,K=e.variant,j=void 0===K?null:K,R=e.isUK,G=void 0===R?null:R,U=c(n).origin,B=s(U);O&&"local"===B&&(U="http://localhost:7081");var M=null!=G&&G,z=function(){switch(!0){case g:return"app";case m:return"amp";case b:return"lite";default:return"canonical"}}(),W=a({isUK:"amp"===z||M,env:B,service:D}),X=(0,r.useMemo)((function(){return Object.assign(Object.assign({env:B,id:p,isUK:M,origin:U,pageType:k,derivedPageType:o,isAmp:m,isApp:g,isLite:b,isNextJs:O,platform:z,statsDestination:W,statusCode:C,variant:j,timeOnServer:T,showAdsBasedOnLocation:_,showCookieBannerBasedOnCountry:x,service:D,pathname:P},v(U,P)),{mvtExperiments:w})}),[o,B,M,p,m,g,b,O,w,U,k,P,z,D,_,x,W,C,T,j]);return r.createElement(d.Provider,{value:X},u)}},88253:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(96540),a=n(20813),i=n(88081),o=n(10467),c=n(4178);const s=function(){var e=(0,o.A)((function*(e,t,n){(0,c.A)()&&e&&((yield null==e?void 0:e.onReady())&&(e.setForcedVariation(t,n),e.activate(t)))}));return function(t,n,r){return e.apply(this,arguments)}}();const u=e=>{var{optimizely:t}=(0,r.useContext)(a.wP),{mvtExperiments:n}=(0,r.useContext)(i.b);if(!n||0===n.length||null===e)return null;var o=n.find((t=>{var{experimentName:n}=t;return n===e}));if(!o)return null;var c=o.enabled&&o.variation;return c&&"false"!==c?(c&&s(t,e,c),c):null}},95673:(e,t,n)=>{n.d(t,{A:()=>a});n(96540);var r=n(17437);const a=e=>t=>{var{Context:n,dataKey:a=null,children:i}=t;return(0,r.Y)(n.Provider,{value:a?e[a]:e},i)}}}]);
//# sourceMappingURL=modern.commons-e019dbda.4d2e9278.js.map