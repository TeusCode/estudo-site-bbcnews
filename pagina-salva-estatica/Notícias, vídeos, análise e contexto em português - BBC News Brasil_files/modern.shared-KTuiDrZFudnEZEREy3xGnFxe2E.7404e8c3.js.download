(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[89],{11177:(e,t,a)=>{a.d(t,{A:()=>D});a(26099);var n=a(96540),s=a(82439),r=a(88081),i=(a(28706),a(50778),a(17437)),o=a(68154),c=a(10851),l=a.n(c),d=a(41485),p=a(37667),m=a(75258),u=a(87934),v=(a(74423),a(69085),a(90938)),g=a(20875),b=a(13014),y=["news","sport","ws"],h=function(e){return y.includes(e)?(0,v.A)()?"/4817/bbccom.live.site.amp.news":"/4817/bbccom.test.site.amp.news":function(e){return(0,v.A)()?"/4817/bbcworldservice.live.site.".concat(e):"/4817/bbccom.test.site.amp.news"}(e)},f=function(e){return{"data-block-on-consent":"default","data-npa-on-unknown-consent":"true",type:"doubleclick","data-slot":h(e),"data-amp-slot-index":"0","data-a4a-upgrade-type":"amp-ad-network-doubleclick-impl","data-multi-size-validation":"false"}},w={leaderboard:{mobile:{width:"320",height:"50",media:"(max-width: ".concat(b.ZF,"rem)"),"data-multi-size":"320x50,300x50"},desktop:{width:"970",height:"250",media:"(min-width: ".concat(b.UQ,"rem)"),"data-multi-size":"970x250,728x90"}},mpu:{mobile:{width:"300",height:"250","data-multi-size":"300x250"}}};const Y=function(e){var t=e.service,a=e.slotType,s=e.pageType,r=w[a],i=r.mobile,o=r.desktop,c=function(e){return e===g.YR?"story":"index"}(s),l=JSON.stringify(function(e){var t=e.service;return{targeting:{slot:e.slotType,asset_type:e.assetType,channel:t}}}({service:t,slotType:a,assetType:c}));return n.createElement(n.Fragment,null,i&&n.createElement("amp-ad",Object.assign({},f(t),i,{json:l})),o&&n.createElement("amp-ad",Object.assign({},f(t),o,{json:l})))};const A={link:function(e){var t=e.fontSizes,a=e.fontVariants,n=e.palette,s=e.spacings;return(0,i.AH)(Object.assign(Object.assign(Object.assign({},t.minion),a.sansRegular),{color:n.RHINO,textDecoration:"none",textTransform:"uppercase",display:"block",padding:"".concat(s.FULL,"rem 0"),"&:hover":{textDecoration:"underline"}}),"","")},section:function(e){var t=e.palette;return(0,i.AH)({backgroundColor:t.GREY_3},"","")},wrapper:{name:"1rmsz9o",styles:"margin:0 auto;text-align:center"},display:{name:"1rced0d",styles:".amp-geo-pending &, .amp-geo-group-gbOrUnknown &{display:none;visibility:hidden;}"}};var T=a(37165),j=a(66744),k=function(e){var t=e.dir,a=e.label,s=e.slotType,r=e.pageType,o=e.service;return(0,i.Y)(n.Fragment,null,(0,i.Y)("a",{css:[A.link,{textAlign:"ltr"===t?"right":"left"}],dir:t,href:"https://www.bbc.com/usingthebbc/cookies/",tabIndex:-1},a),(0,i.Y)(Y,{service:o,slotType:s,pageType:r}))},O=function(e){var t=e.dir,a=e.label,n=e.slotType,s=e.pageType,r=e.service,o=e.ariaLabel;return(0,i.Y)("div",{css:A.display,"amp-access":"toggles.ads.enabled","amp-access-hide":"true"},(0,i.Y)("section",{css:A.section,"aria-label":o,role:"region","data-e2e":"advertisement","aria-hidden":"true"},(0,i.Y)("div",{css:n===j.n.MPU?T.A.ampMpu:T.A.ampLeaderboard},(0,i.Y)("div",{css:A.wrapper},(0,i.Y)(k,{dir:t,label:a,pageType:s,service:r,slotType:n})))))},x=function(e){var t=e.dir,a=e.label,n=e.ariaLabel,s=e.slotType,r=e.pageType,o=e.service;return(0,i.Y)("section",{css:A.section,"aria-label":n,role:"region","data-e2e":"advertisement","aria-hidden":"true"},(0,i.Y)("div",{css:s===j.n.MPU?T.A.ampMpu:T.A.ampLeaderboard},(0,i.Y)("div",{css:A.wrapper},(0,i.Y)("div",{css:A.display,"amp-access":"toggles.ads.enabled","amp-access-hide":"true"},(0,i.Y)(k,{dir:t,label:a,pageType:r,service:o,slotType:s})))))};const L=function(e){var t=e.slotType,a=(0,n.useContext)(m.h),s=a.translations,c=a.dir,v=a.service,g=a.showAdPlaceholder,b=(0,n.useContext)(r.b).pageType,y=l()("Advertisement",["ads","advertisementLabel"],s),h=(0,u.A)({label:y,dir:c,slotType:t}),f=g?x:O;return(0,i.Y)(n.Fragment,null,(0,i.Y)(o.m,null,d.ez,d.G7,function(e){var t="".concat((0,p.U)().SIMORGH_CONFIG_URL,"?application=simorgh&service=").concat(e);return(0,i.Y)("script",{id:"amp-access",type:"application/json"},JSON.stringify({authorization:t,noPingback:!0,authorizationFallbackResponse:{error:!0}}))}(v)),(0,i.Y)(f,{service:v,dir:c,label:y,pageType:b,ariaLabel:h,slotType:t}))};var E=a(42435);const C=function(e){var t,a=e.adcampaign;return t=a?"\n    window.dotcom = window.dotcom || { cmd: [] };\n    window.dotcomConfig = {\n      pageAds: true,\n      playerAds: false,\n      adcampaign: '".concat(a,"'\n    };\n    "):"\n    window.dotcom = window.dotcom || { cmd: [] };\n    window.dotcomConfig = {\n      pageAds: true,\n      playerAds: false\n    };\n    ",n.createElement(o.m,{script:[{type:"text/javascript",innerHTML:t}]})};const D=function(e){var t=e.slotType,a=e.className,i=e.adcampaign,o=(0,n.useContext)(r.b),c=o.isAmp,l=o.isLite,d=o.showAdsBasedOnLocation,p=(0,s.A)("ads").enabled;if(l)return null;if([p,d].every(Boolean)){var m=c?L:E.A;return n.createElement(n.Fragment,null,!c&&n.createElement(C,{adcampaign:i}),n.createElement(m,{slotType:t,className:a}))}return null}},36431:()=>{},41485:(e,t,a)=>{a.d(t,{$L:()=>c,G7:()=>s,WK:()=>r,ez:()=>o,mz:()=>i});a(96540);var n=a(17437),s=((0,n.Y)("script",{async:!0,src:"https://cdn.ampproject.org/v0.js"}),(0,n.Y)("script",{async:!0,"custom-element":"amp-access",src:"https://cdn.ampproject.org/v0/amp-access-0.1.js"})),r=((0,n.Y)("script",{async:!0,"custom-element":"amp-analytics",src:"https://cdn.ampproject.org/v0/amp-analytics-0.1.js"}),(0,n.Y)("script",{async:!0,"custom-element":"amp-bind",src:"https://cdn.ampproject.org/v0/amp-bind-0.1.js"}),(0,n.Y)("script",{async:!0,"custom-element":"amp-consent",src:"https://cdn.ampproject.org/v0/amp-consent-0.1.js"}),(0,n.Y)("script",{async:!0,"custom-element":"amp-geo",src:"https://cdn.ampproject.org/v0/amp-geo-0.1.js"}),(0,n.Y)("script",{async:!0,"custom-element":"amp-list",src:"https://cdn.ampproject.org/v0/amp-list-0.1.js"})),i=(0,n.Y)("script",{async:!0,"custom-template":"amp-mustache",src:"https://cdn.ampproject.org/v0/amp-mustache-0.2.js"}),o=(0,n.Y)("script",{async:!0,"custom-element":"amp-ad",src:"https://cdn.ampproject.org/v0/amp-ad-0.1.js"}),c=((0,n.Y)("script",{async:!0,"custom-element":"amp-ad",src:"https://cdn.ampproject.org/v0/amp-ad-0.1.js"}),(0,n.Y)("script",{async:!0,"custom-element":"amp-script",src:"https://cdn.ampproject.org/v0/amp-script-0.1.js"}))},49794:(e,t,a)=>{a.d(t,{A:()=>N});a(28706),a(74423),a(69085),a(21699);var n=a(96540),s=a(88081),r=a(82439),i=a(37667),o=a(20813),c=a(75258),l=a(62615),d=a(17437),p=a(68154),m=a(41485),u=a(10851),v=a.n(u),g=a(51506),b=a(72059),y=(a(27495),a(25440),a(36431)),h=a.n(y);const f=function(e){var t=e.script,a=e.sha,n=e.encoding,s=e.base;try{var r=h().createHash(a).update(t,n);return"".concat(a,"-").concat(r.digest(s).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}catch(e){return void console.warn("Failed to create hash with params script = ".concat(t,", \n      sha = ").concat(a,", \n      encoding = ").concat(n,", \n      base = ").concat(s))}};var w={paragraph:function(e){var t=e.palette,a=e.fontVariants,n=e.fontSizes;return(0,d.AH)(Object.assign(Object.assign({color:t.SHADOW,margin:0},a.sansRegular),n.bodyCopy),"","")}};const Y=w;const A=function(e){var t=e.endpoint,a=e.size,s=void 0===a?"default":a,r=(0,n.useContext)(c.h),i=r.service,o=r.dir,l=r.mostRead.numberOfItems,u=r.translations,y=function(e){var t=e.endpoint,a=e.service;return"\n  const translations = ".concat(JSON.stringify((0,b.T)(a)),'\n\n  const getRemoteData = async () => {\n    try {\n      const response = await fetch("').concat(t,"\");\n\n      if (!response.ok) {\n        throw Error('Unable to fetch most read data for ").concat(a,"')\n      }\n\n      const { data } = await response.json();\n\n      ").concat("\n    if (data.items.length === 0) {\n      throw new Error('Empty records from mostread endpoint');\n    }\n\n    data.items.forEach((item, index) => {\n      item.rankTranslation = translations[index + 1];\n    });\n  ","\n      \n      return data;\n    } catch (error) {\n      console.warn(error);\n      return [];\n    }\n  }\n\n  exportFunction('getRemoteData', getRemoteData);\n  ")}({endpoint:t,service:i}),h=v()("Content is not available",["socialEmbed","fallback","text"],u),w=o;return(0,d.Y)("amp-script",{id:"dataFunctions",script:"local-script"},(0,d.Y)(p.m,{script:[{id:"local-script",type:"text/plain",target:"amp-script",innerHTML:y}]}),(0,d.Y)(p.m,null,m.WK,m.mz,m.$L,(0,d.Y)("meta",{name:"amp-script-src",content:f({script:y,sha:"sha384",encoding:"utf8",base:"base64"})})),(0,d.Y)("amp-list",{src:"amp-script:dataFunctions.getRemoteData",items:"items","max-items":l,layout:"responsive",width:"300",height:"50"},(0,d.Y)("p",{css:Y.paragraph,fallback:""},h),(0,d.Y)("template",{type:"amp-mustache"},(0,d.Y)(g.UN,{dir:w,columnLayout:"oneColumn"},(0,d.Y)(b.A,{service:i,numberOfItems:l,listIndex:"{{rankTranslation}}",dir:w,columnLayout:"oneColumn",size:s,isAmp:!0}),(0,d.Y)(g.OD,{dir:w,service:i,title:"{{title}}",href:"{{href}}",size:s})))))};const T=function(e){var t=e.children,a=e.className,s=void 0===a?"":a;return n.createElement("section",Object.assign({role:"region","aria-labelledby":"Most-Read","data-e2e":"most-read","data-testid":"most-read"},s?{className:s}:void 0),t)};var j=a(64980);const k={sectionLabel:function(e){var t=e.mq,a=e.spacings;return(0,d.AH)((0,j.A)({},t.GROUP_3_ONLY,{marginBottom:"".concat(a.DOUBLE,"rem")}),"","")}};var O=a(92578),x=a(49359);const L=function(e){var t=e.mobileDivider,a=void 0===t||t,s=e.backgroundColor,r=void 0===s?x.Pe:s,i=e.href,o=e.linkText,l=e.visuallyHidden,p=e.overrideHeadingAs,m=(0,n.useContext)(c.h),u=m.service,v=m.script,g=m.dir,b=m.mostRead.header;return(0,d.Y)(O.A,{css:k.sectionLabel,script:v,labelId:"Most-Read",service:u,dir:g,mobileDivider:a,backgroundColor:r,href:i,linkText:o,visuallyHidden:l,overrideHeadingAs:p},b)};var E=a(38819),C=a(20875),D={componentName:"most-read"},R=[C.YR,C.vw,C.R],z=function(e){var t=e.pageType,a=e.className,s=e.mobileDivider,r=e.headingBackgroundColour,o=e.endpoint,c=e.size;return R.includes(t)?n.createElement(T,Object.assign({},a?{className:a}:void 0),n.createElement(L,{mobileDivider:s,backgroundColor:r}),n.createElement(A,{endpoint:"".concat((0,i.U)().SIMORGH_MOST_READ_CDN_URL).concat(o),size:c})):null},_=function(e){var t=e.data,a=e.className,s=e.mobileDivider,r=e.headingBackgroundColour,i=e.columnLayout,o=e.size,c=e.eventTrackingData;return t?n.createElement(T,{className:a},n.createElement(L,{mobileDivider:s,backgroundColor:r}),n.createElement(l.A,{data:t,columnLayout:i,size:o,eventTrackingData:c})):null};const N=function(e){var t=e.data,a=e.columnLayout,i=void 0===a?"multiColumn":a,l=e.size,d=void 0===l?"default":l,p=e.mobileDivider,m=void 0!==p&&p,u=e.headingBackgroundColour,v=void 0===u?x.UE:u,g=e.className,b=void 0===g?"":g,y=e.sendOptimizelyEvents,h=void 0!==y&&y,f=(0,n.useContext)(s.b),w=f.isAmp,Y=f.pageType,A=f.variant,T=(0,n.useContext)(o.wP).optimizely,j=(0,n.useContext)(c.h),k=j.service,O=j.mostRead.hasMostRead;if(!((0,r.A)("mostRead").enabled&&O))return null;var L=(e=>{var{service:t,variant:a,isBff:n=!1}=e;return n?a?"/fd/simorgh-bff?pageType=mostRead&service=".concat(t,"&variant=").concat(a):"/fd/simorgh-bff?pageType=mostRead&service=".concat(t):a?"/".concat(t,"/mostread/").concat(a,".json"):"/".concat(t,"/mostread.json")})({service:k,variant:A,isBff:!(0,E.A)()}),C=Object.assign(Object.assign({},D),h&&{optimizely:T});return w?n.createElement(z,{pageType:Y,className:b,mobileDivider:m,headingBackgroundColour:v,endpoint:L,size:d}):n.createElement(_,{data:t,className:b,mobileDivider:m,headingBackgroundColour:v,columnLayout:i,size:d,eventTrackingData:C})}}}]);
//# sourceMappingURL=modern.shared-KTuiDrZFudnEZEREy3xGnFxe2E.7404e8c3.js.map